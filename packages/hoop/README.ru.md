# üèÄ Hoop

[üá¨üáß Read in English](./README.md)

TypeScript SDK –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π —Å Loop –∏ Mattermost.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install @triple-sun/hoop
# –∏–ª–∏
pnpm add @triple-sun/hoop
# –∏–ª–∏
yarn add @triple-sun/hoop
```

## üéØ –ß—Ç–æ —ç—Ç–æ?

Hoop –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–µ –∏ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –±–∏–ª–¥–µ—Ä—ã –∏ —Ñ–∞–±—Ä–∏–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ Loop (–∏–ª–∏ Mattermost) API, —Ç–∞–∫–∏—Ö –∫–∞–∫ –ø–æ—Å—Ç—ã, —Ñ–æ—Ä–º—ã, –¥–∏–∞–ª–æ–≥–∏, –∫–Ω–æ–ø–∫–∏ –∏ —Ç.–¥. –í–º–µ—Å—Ç–µ —Å `loop-client` –æ–Ω —Å–∏–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π –¥–ª—è Loop –∏ Mattermost.

## ‚ú® –§–∏—á–∏

- **üèóÔ∏è –ë–∏–ª–¥–µ—Ä—ã** - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Ü–µ–ø–æ—á–∫–∞–º–∏ –≤—ã–∑–æ–≤–æ–≤
- **üè≠ –§–∞–±—Ä–∏–∫–∏** - –®–æ—Ä—Ç–∫–∞—Ç—ã –¥–ª—è –±–∏–ª–¥–µ—Ä–æ–≤ –∏ –ø—Ä–µ—Å–µ—Ç—ã
- **üìò –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è** - —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã, –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏ –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç
- **üîó –°–¥–µ–ª–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è loop-client** - –∏ –∏–¥–µ—Ç —Å –Ω–∏–º –≤ –∫–æ–º–ø–ª–µ–∫—Ç–µ
- **üåê –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```typescript
import { HoopFactory, ActionFactory } from '@triple-sun/hoop';

// –°–æ–∑–¥–∞–µ–º –ø–æ—Å—Ç —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏
const post = HoopFactory.Post()
  .set('message', '–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:')
  .attachments.append({
    text: '–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ',
    actions: [
      ActionFactory.Button({ name: 'approve', integration: { url: 'https://some.url/approve' } }),
      ActionFactory.Button({ name: 'reject', integration: { url: 'https://some.url/reject' } })
    ]
  })
  .build();
```

## üìö –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ë–∏–ª–¥–µ—Ä—ã (Builders)

–ë–∏–ª–¥–µ—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç fluent-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤:

- **PostBuilder** - –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏, –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –∏ –ø–æ–ª—è–º–∏ ([–ø–æ–¥—Ä–æ–±–Ω—ã–π –≥–∞–π–¥](./docs/POST_BUILDER.ru.md))
- **FormBuilder** - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–æ—Ä–º ([–ø–æ–¥—Ä–æ–±–Ω—ã–π –≥–∞–π–¥](./docs/FORM_BUILDER.ru.md))
- **DialogBuilder** - –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ ([–ø–æ–¥—Ä–æ–±–Ω—ã–π –≥–∞–π–¥](./docs/DIALOG_BUILDER.ru.md))
- **AppBindingBuilder** - –°–æ–∑–¥–∞–Ω–∏–µ app bindings –∏ embedded bindings –≤ –ø–æ—Å—Ç–∞—Ö
- **AttachmentBuilder** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–∏—è–º–∏ –ø–æ—Å—Ç–æ–≤

### –§–∞–±—Ä–∏–∫–∏ (Factories)

–§–∞–±—Ä–∏–∫–∏ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –±—ã—Å—Ç—Ä—ã–µ —à–æ—Ä—Ç–∫–∞—Ç—ã –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ –≥—Ä—É–ø–ø –±–∏–ª–¥–µ—Ä–æ–≤:

- **HoopFactory** - –°–æ–∑–¥–∞–Ω–∏–µ –∫—Ä—É–ø–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ - –ø–æ—Å—Ç–æ–≤, —Ñ–æ—Ä–º –∏ –¥–∏–∞–ª–æ–≥–æ–≤
- **ActionFactory** - –°–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –∏ –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- **AttachmentFactory** - –°–æ–∑–¥–∞–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –ø–æ—Å—Ç–æ–≤
- **BindingFactory** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ app bindings –∏ embedded bindings –≤ –ø–æ—Å—Ç–∞—Ö
- **FormFieldFactory** - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–µ–π –¥–ª—è —Ñ–æ—Ä–º
- **DialogElementFactory** - –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤

## üî® –ü—Ä–∏–º–µ—Ä—ã

### –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ—Å—Ç–∞

```typescript
import { HoopFactory, ActionFactory } from '@triple-sun/hoop';

const post = HoopFactory.Post()
  .set('message', '–í–æ–ø—Ä–æ—Å –æ–ø—Ä–æ—Å–∞')
  .attachments.append({
    title: '–ù–∞—Å–∫–æ–ª—å–∫–æ –≤—ã –¥–æ–≤–æ–ª—å–Ω—ã?',
    text: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ü–µ–Ω–∫—É',
    actions: [
      ActionFactory.Select.Static({
        name: 'rating',
        integration: { url: 'https://some.url/submit-rating' },
        options: [
          { text: '–û—á–µ–Ω—å –¥–æ–≤–æ–ª–µ–Ω', value: '5' },
          { text: '–î–æ–≤–æ–ª–µ–Ω', value: '4' },
          { text: '–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ', value: '3' },
          { text: '–ù–µ–¥–æ–≤–æ–ª–µ–Ω', value: '2' }
        ]
      })
    ]
  })
  .build();
```

### –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ñ–æ—Ä–º

```typescript
import { HoopFactory } from '@triple-sun/hoop';

const form = HoopFactory.Form()
  .set('title', '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è')
  .fields.append(
    { type: 'text', name: 'username', display_name: '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è' },
    { type: 'text', name: 'email', display_name: 'Email', subtype: 'email' }
  )
  .build();
```

### –†–∞–±–æ—Ç–∞ —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏

```typescript
const post = HoopFactory.Post()
  .set('message', '–û—Ç—á–µ—Ç –æ —Å—Ç–∞—Ç—É—Å–µ')
  .attachments.append({
    color: '#00FF00',
    title: '–°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞',
    fields: [
      { title: '–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å', value: '2m 34s', short: true },
      { title: '–¢–µ—Å—Ç—ã', value: '142 passed', short: true }
    ]
  })
  .build();
```

## üåê –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

Hoop –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–Ω–≥–ª–∏–π—Å–∫—É—é –∏ —Ä—É—Å—Å–∫—É—é –ª–æ–∫–∞–ª–∏ –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ª–µ–π–±–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–û—Ç–ø—Ä–∞–≤–∏—Ç—å", "–î–∏–∞–ª–æ–≥" –∏ —Ç.–¥.). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—Å—Å–∫–∞—è (`ru`).

–î–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `setLocale`:

```typescript
import { setLocale } from '@triple-sun/hoop';

setLocale('en'); // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
```

## üß™ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm test

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run build

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
npm run format

# –õ–∏–Ω—Ç–∏–Ω–≥ –∫–æ–¥–∞
npm run check
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üîó –°—Å—ã–ª–∫–∏

- [–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://github.com/foxford-backoffice/fox-loop-sdk)
- [Issues](https://github.com/foxford-backoffice/fox-loop-sdk/issues)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Mattermost Interactive Messages](https://developers.mattermost.com/integrate/plugins/interactive-messages/)
